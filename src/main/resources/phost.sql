DROP TABLE DATA_DICT;
CREATE TABLE DATA_DICT ( DICT_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, DICT_TYPE VARCHAR(20), DICT_CODE VARCHAR(8), DICT_HINT VARCHAR(200), DICT_HINT_CHS VARCHAR(200), NOTE1 VARCHAR(200), NOTE2 VARCHAR(200), CONSTRAINT P_Key_1 PRIMARY KEY (DICT_ID) );
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (1, 'VERSION_CONTROL', '1', 'Subversion', null, null, null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (2, 'VERSION_CONTROL', '2', 'Mercury', null, null, null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (3, 'CODE_LICENSE', '1', 'Apache License 2.0', null, 'http://www.opensource.org/licenses/apache2.0.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (4, 'CODE_LICENSE', '2', 'Artistic license 2.0', null, 'http://www.opensource.org/licenses/artistic-license-2.0.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (5, 'CODE_LICENSE', '3', 'GNU General Public License (GPL)', null, 'http://www.opensource.org/licenses/gpl-license.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (6, 'CODE_LICENSE', '4', 'GNU Library or "Lesser" General Public License (LGPL)', null, 'http://www.opensource.org/licenses/lgpl-license.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (7, 'CODE_LICENSE', '5', 'MIT license', null, 'http://www.opensource.org/licenses/mit-license.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (8, 'CODE_LICENSE', '6', 'Mozilla Public License 1.1 (MPL)', null, 'http://www.opensource.org/licenses/mozilla1.1.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (9, 'CODE_LICENSE', '7', 'New and Simplified BSD licenses', null, 'http://www.opensource.org/licenses/bsd-license.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (10, 'CODE_LICENSE', '8', 'Common Development and Distribution License', null, 'http://www.opensource.org/licenses/cddl1.php', null);
insert into DATA_DICT (DICT_ID, DICT_TYPE, DICT_CODE, DICT_HINT, DICT_HINT_CHS, NOTE1, NOTE2) values (11, 'CODE_LICENSE', '9', 'Eclipse Public License', null, 'http://www.opensource.org/licenses/eclipse-1.0.php', null);
DROP INDEX idx_code;
CREATE INDEX idx_code ON DATA_DICT (DICT_CODE);
DROP INDEX idx_code_type;
CREATE INDEX idx_code_type ON DATA_DICT (DICT_CODE, DICT_TYPE);
DROP TABLE DOWNLOAD;
CREATE TABLE DOWNLOAD ( DOWNLOAD_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, PROJECT_ID BIGINT, SUMMARY VARCHAR(200), FILE_NAME VARCHAR(200), FILE_SIZE VARCHAR(50), UPLOADED VARCHAR(50), DOWNLOAD_COUNT BIGINT, CONSTRAINT P_Key_1 PRIMARY KEY (DOWNLOAD_ID) );
insert into DOWNLOAD (DOWNLOAD_ID, PROJECT_ID, SUMMARY, FILE_NAME, FILE_SIZE, UPLOADED, DOWNLOAD_COUNT) values (1, 3, 'Enter one-line summary', 'Download.java', '1920', 'ychao@bankcomm.com', 0);
DROP TABLE EXTRAS;
CREATE TABLE EXTRAS ( EXTRAS_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, MODULE_ID BIGINT, MODULE_TYPE VARCHAR(8), CATEGORY VARCHAR(8), TEXT VARCHAR(80), CONTENT VARCHAR(200), CONSTRAINT P_Key_1 PRIMARY KEY (EXTRAS_ID) );
COMMENT ON TABLE EXTRAS IS 'LABEL / LINK /DISSCUSS GROUP / BLOG/';
COMMENT ON COLUMN EXTRAS.MODULE_TYPE IS '1 - PROJECT
2 - DOWNLOAD
3 - WIKI
4 - ISSUE';
COMMENT ON COLUMN EXTRAS.CATEGORY IS '1 - LABEL
2 - LINK 
3 - DISCUSS GROUP
4 - BLOG';
DROP TABLE ISSUE;
CREATE TABLE ISSUE ( ISSUE_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, CONSTRAINT P_Key_1 PRIMARY KEY (ISSUE_ID) );
DROP TABLE PROJECT_MEMBER;
CREATE TABLE PROJECT_MEMBER ( PROJECT_MEMBER_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, PROJECT_ID BIGINT NOT NULL, USER_ID BIGINT NOT NULL, ROLE VARCHAR(4) NOT NULL, CONSTRAINT P_Key_1 PRIMARY KEY (PROJECT_MEMBER_ID) );
COMMENT ON TABLE PROJECT_MEMBER IS '又可以称为PROJECT_USER_REL表';
COMMENT ON COLUMN PROJECT_MEMBER.ROLE IS '1 - 
2 - 
3 - ';
insert into PROJECT_MEMBER (PROJECT_MEMBER_ID, PROJECT_ID, USER_ID, ROLE) values (1, 1, 1, '1');
insert into PROJECT_MEMBER (PROJECT_MEMBER_ID, PROJECT_ID, USER_ID, ROLE) values (2, 2, 1, '1');
insert into PROJECT_MEMBER (PROJECT_MEMBER_ID, PROJECT_ID, USER_ID, ROLE) values (3, 3, 1, '1');
DROP TABLE PROJECT_META;
CREATE TABLE PROJECT_META ( PROJECT_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, NAME VARCHAR(20), SUMMARY VARCHAR(120), DESCRIPTION VARCHAR(1024), VERSION_CONTROL VARCHAR(8), CODE_LICENSE VARCHAR(8), CONTENT_LICENSE VARCHAR(8), LOGO VARCHAR(40), CONSTRAINT P_Key_1 PRIMARY KEY (PROJECT_ID) );
COMMENT ON COLUMN PROJECT_META.CODE_LICENSE IS '数据字典项';
COMMENT ON COLUMN PROJECT_META.CONTENT_LICENSE IS '数据字典项';
insert into PROJECT_META (PROJECT_ID, NAME, SUMMARY, DESCRIPTION, VERSION_CONTROL, CODE_LICENSE, CONTENT_LICENSE, LOGO) values (1, 'phost', 'For opensource project hosting service like googlecode hosting', 'a collative platform for open source project hosting service', '1', '5', null, null);
insert into PROJECT_META (PROJECT_ID, NAME, SUMMARY, DESCRIPTION, VERSION_CONTROL, CODE_LICENSE, CONTENT_LICENSE, LOGO) values (2, 'geda', 'General Event-Driven Architecture', 'General Event-Driven Architecture', '1', '7', null, null);
insert into PROJECT_META (PROJECT_ID, NAME, SUMMARY, DESCRIPTION, VERSION_CONTROL, CODE_LICENSE, CONTENT_LICENSE, LOGO) values (3, 'fundus', 'a fundus library', 'a fundus library', '', '', null, null);
DROP INDEX Idx_name;
CREATE INDEX Idx_name ON PROJECT_META (NAME);
DROP TABLE USER;
CREATE TABLE USER ( USER_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, EMAIL VARCHAR(40) NOT NULL, PASSWORD VARCHAR(40), CONSTRAINT P_Key_1 PRIMARY KEY (USER_ID) );
insert into USER (USER_ID, EMAIL, PASSWORD) values (1, 'ychao@bankcomm.com', '1');
DROP INDEX idx_email;
CREATE INDEX idx_email ON USER (EMAIL);
DROP INDEX Idx_email_passwd;
CREATE INDEX Idx_email_passwd ON USER (EMAIL, PASSWORD);
DROP TABLE WIKI;
CREATE TABLE WIKI ( WIKI_ID BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY, PAGE_NAME VARCHAR(80), CONTENT LONG VARCHAR, COMMIT_LOG LONG VARCHAR, CONSTRAINT P_Key_1 PRIMARY KEY (WIKI_ID) );
